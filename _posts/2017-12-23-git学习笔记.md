---
layout:     post
title:      git学习笔记
subtitle:   
date:       2017-12-23
author:     Daryl
header-img: img/nara.jpg
catalog: true
tags:
    - note
    - git
---

> 第N次学习git...

## Git学习笔记

安装完git之后，首先要做的是配置自己的用户名和邮箱地址
```
git config --global user.name "My Name"
git config --global user.email "email@example.com"
```
#### 检查状态

用`git status`命令检查状态。其输出结构可以告诉我们，仓库中哪些文件被修改了，已经加到暂存区等信息。

用`git diff`命令检查具体的修改情况。

用`git log`命令可以查看提交的历史记录（从近到远逐行显示）。加上命令`--pretty=oneline`之后可以减少不必要的信息。其中一大串类似于乱码的东西是版本号。

#### 初始化版本库

在目录下用`git init`语句即可。当前目录下会多出一个.git文件夹，这是用来跟踪管理库版本的。

#### 将一个文件放入git仓库中的步骤

```
git add readme.txt
git commit -m "add readme"
```
其中add是将文件添加到暂存区，commit则是提交。可以add多次，最后一起commit。commit的参数-m之后加的是本次提交说明，也可以不写，但为了可读性最好加上。

#### 版本回退

在git中，用HEAD表示当前版本。上一个版本用HEAD^表示，上上个版本用HEAD^^表示。前一百个版本可以用HEAD~100来表示。

要回退版本可以用命令`git reset --hard HEAD^`。这比奥斯回退到上一个版本。此外还可以用版本号来指定回退的版本（版本号一般只需写前几位，git会自动补全）。用指定版本好的方法，还可以回到回退前的版本。

但是如果用`git reset --hard HEAD^`回退到了上一个版本，但是又想回去，而此时已经没有版本号了，应该怎么办？可以用`git reflog`命令来看每一次git命令找到对应的版本号。

#### 了解暂存区、工作区、分支等概念

工作区就是整个文件夹。

隐藏目录.git不是工作区，而是git的版本库。里面存了很多东西，比如一个被称为stage的暂存区，git自动创建的第一个分支master，以及一个指向master分支的指针HEAD。

`git add`所做的是把文件添加到暂存区，而`git commit`做的是把暂存区中所有内容提交到当前分支。

`git diff`是工作区(wd)和暂存区(stage)的比较，而`git diff --cached`是暂存区(stage)和分支(master)的比较。

#### 撤销修改

撤销工作区的修改。`git checkout -- readme.txt` 可以让readme.txt会到最近一次 git add 或 git commit 时的状态。

撤销暂存区的修改。`git reset HEAD readme.txt`可以把暂存区的修改回退到工作区，相当于撤销所有的 git add。

如果提交到了版本库，使用版本回退即可( `git reset --hard HEAD^` )。

#### 删除文件

在工作区中把不要的文件删除后。如果是误删，则只需要撤销工作区的修改，用 git checkout 将版本库中的版本替换工作区中版本。

如果想把版本库中的文件也删掉，可以用`git rm man`将相应的文件删掉，然后再 git commit。

### 远程仓库

基本操作是建立ssh秘钥。然后可以在github上浪了。如果要建立私密仓库，可以用github的收费功能，也可以自己创建git服务器。

#### 添加远程库

> To be continued... 【暂时不想写了



